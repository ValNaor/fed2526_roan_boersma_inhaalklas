define(["classnames","rendering-engine-api","react"],(e,t,n)=>(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[54226],{30812:t=>{"use strict";t.exports=e},32017:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Q});var a={};n.r(a),n.d(a,{active:()=>N,buttonSizeLarge:()=>F,buttonSizeMedium:()=>P,buttonSizeSmall:()=>Y,disabled:()=>D,root:()=>I,text:()=>C});var i=n(85959),r=n.n(i),o=n(32740),c=n(89575),s=n(17502),l=n(30812),d=n.n(l),u=n(51599),f=n(41825),m=n(97179);function g(e){const t=i.useRef(e),n=i.useRef(-1);t.current=e;return[i.useCallback(()=>{cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{t.current()})},[]),i.useCallback(()=>{cancelAnimationFrame(n.current)},[])]}var p=n(97439),k=n(35208),h=n(21663);const b=({rootRef:e,childRef:t,disabled:n,peekABoo:a,onPinned:r,onUnPinned:o,offsetTop:c=0})=>{const s=i.useRef(null),l=i.useRef(0),[d,u]=i.useState(0),[f,m]=i.useState({height:0,top:0}),[b,v]=i.useState(!1),w=i.useCallback(()=>{const n=(()=>{if(!e.current)return 0;const t=e.current.getBoundingClientRect().top,n=window.scrollY||window.pageYOffset;return t<0?n-Math.abs(t):t+n})();m(e=>{var a;return Object.assign({},e,{height:(null===(a=t.current)||void 0===a?void 0:a.getBoundingClientRect().height)||0,top:n})})},[t,e]);i.useEffect(()=>{w()},[w]);const x=i.useCallback(e=>{if(!t.current||n)return;const i=window.scrollY||window.pageYOffset;if(i<0||void 0===f.top)return;const s=i-l.current>0?"down":"up";if(a){const e=d+l.current-i,t="down"===s?Math.max(e,-f.height):Math.min(e,0);u(t)}const m=b;i+c-(a&&"down"===s?f.height:0)>=f.top?(v(!0),"function"==typeof r&&!0!==m&&setTimeout(()=>{r(e)},0)):(v(!1),"function"==typeof o&&!1!==m&&setTimeout(()=>{o(e)},0)),l.current=i},[t,f,c,n,r,o,b,a,d]),[L]=g(x),[E]=g(w);return(0,p.A)(t,w),(0,p.A)(s,w),i.useEffect(()=>((0,k.Bd)()&&!n?(s.current=document.body,window.addEventListener("scroll",L),window.addEventListener("resize",E)):(0,k.Bd)()&&n&&(window.removeEventListener("scroll",L),window.removeEventListener("resize",E),v(!1)),()=>{(0,k.Bd)()&&!n&&(window.removeEventListener("scroll",L),window.removeEventListener("resize",E))}),[L,E,n]),i.useEffect(()=>{n||(0,h.B)(L,{timeout:100})},[L,n]),{isFixed:b,dimensions:f,customOffsetTop:d}},v=({rootRef:e,childRef:t,isFixed:n,dimensions:a,customOffsetTop:r,offsetTop:o=0,peekABoo:c=!1,customZIndex:s=999999})=>{i.useEffect(()=>{if(!e.current||!t.current)return;if(0!==a.height){const t={height:"100%",position:"relative","min-height":`${a.height}px`,"max-height":`${a.height}px`};Object.assign(e.current.style,t)}const i={left:0,width:"100%",transform:"translateZ(0)","z-index":s,top:n?c?`${r}px`:`${o}px`:0,position:n?"fixed":"relative"};Object.assign(t.current.style,i)},[e,t,s,a.height,c,n,r,o])},w={low:999,medium:9999,high:99999},x={default:u.GUV,tertiary:u.JSK,transparent:u.hLC},L=["children","className","offsetTop","zIndex","disabled","bgColor","onPinned","onUnPinned","peekABoo"],E=r().forwardRef((e,t)=>{let{children:n,className:a,offsetTop:i=0,zIndex:o="low",disabled:l=!1,bgColor:g="tertiary",onPinned:p,onUnPinned:k,peekABoo:h=!1}=e,E=(0,s.A)(e,L);const y=r().useRef(null),R=r().useRef(null),A=(0,m.A)(t,R),O=r().useMemo(()=>"number"==typeof o?o:w[o],[o]),{isFixed:T,dimensions:_,customOffsetTop:S}=b({rootRef:y,childRef:R,disabled:l,peekABoo:h,onPinned:p,onUnPinned:k,offsetTop:i});return v({rootRef:y,childRef:R,peekABoo:h,isFixed:T,dimensions:_,offsetTop:i,customOffsetTop:S,customZIndex:O}),r().createElement(r().Fragment,null,r().createElement("header",{ref:y},r().createElement("nav",(0,c.A)({ref:A,className:d()(x[g],a,"transparent"!==g&&d()(f.FQ,f.Ae,f.Nd,f.s7,u.sS9))},E),n)))});E.displayName="EmbeddedNav";const y=E;var R=n(75839),A=n(10170),O=n(5073),T=n(42768),_=n(96037);const S=({children:e,className:t})=>i.createElement("ul",{className:d()(_.z,R.sm9,R.mWI,A.oYx,O.OL,T.k0,t)},e),B=({children:e,className:t})=>i.createElement("li",{className:d()(R.nzo,_.Y,A.XiK,A.niV,A.mPH,A.Iki,t)},e);var z=n(43168),I="YYFKa3 lmdb6B LyRfpJ JT3_zV",N="ExGQlc lmdb6B LyRfpJ JT3_zV",C="WBkG7s i7AKla fkl1kP _5Yd-hZ",D="YYFKa3 lmdb6B LyRfpJ JT3_zV YYFKa3 lmdb6B LyRfpJ JT3_zV",F="ByOGuk",P="fys3dy",Y="b1H_Qi",J=n(5828);const V=(0,z.X)(a)(J.A);var $=n(76349),K=n(89862);const U=({trackingLabelData:e,linkData:t,tracking:n,trackingOptions:a})=>{const i=(({id:e,index:t,total:n})=>`top level navigation.${e}.pos:${t+1}.total:${n}`)(t);n.track(((e,t)=>({name:K.bD,context:{customCategory:e,customActionSuffix:"navigation",customLabel:t}}))(e,i),a);const r={name:"select_content",context:{legacy_event_name:K.bD,event_trigger_name:`navigation.${i.replace(/ /g,"_")}`}};n.trackStandalone(r,a)},M=({activeLink:e,links:t,tracking:n,trackingOptions:a,trackingLabel:r})=>{const o=i.useRef(null);return i.useEffect(()=>{o.current&&o.current.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})},[o.current]),i.createElement(i.Fragment,null,t.map(({text:c,uri:s,id:l},d)=>i.createElement(i.Fragment,null,!!c&&!!s&&!!l&&i.createElement(B,null,i.createElement(V,{label:c,key:s,href:s,ref:d===e?o:null,state:e===d?$.w.ACTIVE:$.w.INITIAL,onClick:()=>{r&&U({tracking:n,trackingOptions:a,trackingLabelData:r,linkData:{id:l,index:d,total:t.length}})}})))))},W=i.forwardRef(M);var G=n(97738);const Q=(0,o.tile)().withQueries(()=>({topLevelNavigation:{query:G}})).withTracking(e=>({resolve:()=>({context:{id:e.entity.id}})})).withProcessDependencies((e,t)=>{const n=e.topLevelNavigation.customerPropositionNavigation,a="string"==typeof t.ruleData.trackingLabel?t.ruleData.trackingLabel.replace(/_/g," "):void 0;return n&&null!==n.children?{action:"render",data:{links:n.children,pathname:t.context.navigation.url.pathname,trackingLabelData:a}}:{action:"error",message:"No link data provided"}}).withRender(e=>{const{data:{links:t,pathname:n,trackingLabelData:a},ruleData:r,tools:c}=e,s=(({links:e,pathname:t})=>e.findIndex(e=>{let n=new URL(e.uri).pathname;return n+=n.endsWith("/")?"":"/",n===t}))({links:t,pathname:n}),l={enableStandaloneInShadow:!!r.enableStandaloneInShadowPrio2,enableStandaloneOnly:!!r.enableStandaloneOnlyPrio2};return s>-1?i.createElement(o.ViewTracker,{onVisible:()=>{(({trackingLabelData:e,tracking:t,trackingOptions:n})=>{const a={name:K.wc,context:{customCategory:e,customActionSuffix:"navigation",customLabel:"top level navigation"}};t.track(a,n);const i={name:"view_content",context:{event_trigger_name:"navigation.top_level_navigation",legacy_event_name:K.wc}};t.trackStandalone(i,n)})({tracking:c.tracking,trackingLabelData:a,trackingOptions:l})}},i.createElement(y,{bgColor:"default",zIndex:9},i.createElement(S,null,i.createElement(W,{links:t,tracking:c.tracking,trackingOptions:l,activeLink:s,trackingLabel:a})))):null})},32740:e=>{"use strict";e.exports=t},85959:e=>{"use strict";e.exports=n},97738:e=>{e.exports={id:"4789f02c7c78eb1049a9cd008e709fcc8bc5f49edb913ec781d0a0a407dc1b79"}}},e=>(e.O(0,[29674],()=>{return t=32017,e(e.s=t);var t}),e.O())]));
//# sourceMappingURL=https://zalando.de/dev/source-maps/entity_top-level-navigation/index-06e6d159dfec00c5e0ba.js.map