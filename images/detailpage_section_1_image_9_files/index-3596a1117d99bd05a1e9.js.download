define(["classnames","rendering-engine-api","react"],(e,t,n)=>(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[76724],{27644:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var a=n(89575),l=n(17502),r=n(15842),i=n(4955),c=n(36124),o=n(67270),s=n(21663),d=n(62030),u=n(41553),m=n(40357),p=n(2673),_=n(52130),v=n(30812),E=n.n(v),g=n(85959),b=n.n(g),h=n(65453),f=n(10170);const N=["children","className","style","buttonStyle","gradientStyle","labels","collapsedHeight","collapsed","onChange"],y={timeout:100},x=b().forwardRef((e,t)=>{let{children:n,className:v,style:x,buttonStyle:S,gradientStyle:A,labels:w={},collapsedHeight:k=200,collapsed:I=!1,onChange:L}=e,z=(0,l.A)(e,N);const F=b().useRef(),H=b().useRef(),[V,C]=(0,u.e)(!I),[D,O]=(0,u.e)(!0),[T,R]=b().useState({initial:k,opened:0,button:0}),G=({}={})=>{if(!F||!F.current)return;let e=0;H&&H.current&&(e=H.current.clientHeight);const t=F.current&&F.current.scrollHeight;R(Object.assign({},T,{opened:t+e,button:e})),O(t>T.initial)},[K]=(0,d.A)(()=>(0,s.B)(G,y),100);b().useEffect(()=>(F&&F.current&&(0,s.B)(G),(0,o.q)(K),()=>(0,o.O)(K)),[F]),b().useEffect(()=>{var e;return null===(e=H.current)||void 0===e||e.addEventListener("focusin",P),()=>{var e;null===(e=H.current)||void 0===e||e.removeEventListener("focusin",P)}},[H]);const j=V?w.showLess:w.showMore,P=e=>{e.stopPropagation()},W=()=>{C(!0)};return(0,g.useEffect)(()=>{var e;return null===(e=F.current)||void 0===e||e.addEventListener("focusin",W),()=>{var e;null===(e=F.current)||void 0===e||e.removeEventListener("focusin",W)}},[W]),b().createElement("div",(0,a.A)({className:E()(h.zr,v),ref:e=>{e&&!F.current&&(F.current=e,"function"==typeof t?t(e):t&&(t.current=e))}},z,{style:Object.assign({},x,{maxHeight:V?T.opened:T.initial,paddingBottom:D&&V?T.button:0})}),n,D&&b().createElement(b().Fragment,null,V?null:b().createElement("div",{className:h.D7,style:A}),b().createElement(m.A,{ref:e=>{e&&(H.current=e)},className:E()(V?h.rT:h.jP),onClick:()=>{C(!V),"function"==typeof L&&L(!V)},style:S,"aria-expanded":V},j&&b().createElement("div",{className:h.IO},b().createElement(p.Ay,{className:f.HaJ,tag:"span",preset:_.nx.h6},j),b().createElement(c.A,{src:V?i.A:r.A,size:"xs"})))))})},30812:t=>{"use strict";t.exports=e},32740:e=>{"use strict";e.exports=t},42654:()=>{window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,"product_coordinated-set":["collapsible_container.view_all","collapsible_container.view_less","order.product.image"]}},50905:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z});var a=n(85959),l=n(30812),r=n.n(l),i=n(32740),c=n(41825),o=n(27838),s=n(51599),d=n(5073),u=n(38856),m=n(75839),p=n(72640),_=n(92e3),v=n(27644),E=n(21267),g=n(2673),b=n(52130),h=n(10170),f=n(32099),N=n(22940),y=n(76738),x=n(25613);const S="mix-and-match-container",A={collapsible:[{breakpoint:x.EA.mobile,minHeight:320},{breakpoint:x.EA.phablet,minHeight:300},{breakpoint:x.EA.tablet,minHeight:350},{breakpoint:x.EA.desktop,minHeight:380},{breakpoint:x.EA.wideDesktop,minHeight:450}].map(({breakpoint:e,minHeight:t})=>`\n            @media ${(0,x.g5)(e)} {\n                .${S} {\n                    min-height: ${t}px;\n                }\n            }\n\n        `).join("")};var w=n(89862);const k="mix_match.-.-",I="mix_match";const L=e=>({id:e.entity.id}),z=(0,i.tile)().withQueries(e=>({data:{query:y,variables:L(e)}})).withTracking(e=>({resolve:()=>({context:{entity_id:e.entity.id}}),exposeData:()=>({common:{list_id:`${e.entity.id}:coordinated_set`}})})).withProcessDependencies(e=>{var t,n,a,l,r,i,c;const o=null==e||null==(t=e.data)?void 0:t.product,s=null==o||null==(n=o.productCoordinatedSet)?void 0:n.products,d=null==o||null==(l=o.gallery)||null==(a=l[0])?void 0:a.media.uri,u=(null!=s?s:[]).map(e=>({id:e.id}));let m=!1;const p=null==o||null==(r=o.presentation)?void 0:r.find(e=>{return"object"==typeof(t=e)&&null!==t&&"__typename"in t&&"ProductMixAndMatchPresentation"===t.__typename;var t});return p&&"HIDDEN"===(null==p?void 0:p.visibility)&&(m=!0),{action:"render",data:{productId:null==o?void 0:o.id,products:s,title:null==o||null==(i=o.productCoordinatedSet)?void 0:i.title,subtitle:null==o||null==(c=o.productCoordinatedSet)?void 0:c.subtitle,productImageUri:d,hideTitleImage:m},tiles:{tileProducts:u}}}).withRender(e=>{const{data:{products:t,productImageUri:n,productId:l,title:y,subtitle:x,hideTitleImage:L},tiles:{tileProducts:z},tools:{tracking:F},ruleData:H}=e;if(!t||Array.isArray(t)&&0===t.length)return null;const V=`${l}:coordinated_set`;a.useEffect(()=>{((e,t,n)=>{const a={name:"load_content",context:{content_id:t}},l={name:w.n6,context:{customActionSuffix:I,customLabel:k}};e.track(l,n),e.trackStandalone(a,n)})(F,V,D)},[]);const C=e=>{((e,t,n,a)=>{const l={name:w.bD,context:{customActionSuffix:t?"view all":"collapse",customLabel:k}},r={name:"select_content",context:{content_id:n,event_trigger_name:t?"mix_match.click_view_all":"mix_match.click_collapse"}};e.track(l,a),e.trackStandalone(r,a)})(F,e,V,D)},D={enableStandaloneInShadow:!!H.enableStandaloneInShadowPrio2,enableStandaloneOnly:!!H.enableStandaloneOnlyPrio2},O=(t||[]).length,T=O>2,R=a.createElement("div",{className:r()(o.card,m.Vg8)},a.createElement("div",{className:r()(m.nME,u.VpL)},a.createElement("div",{className:r()(o.media,m.nzo,m.Wtj,m.KzS,m.ra$)},a.createElement("div",{className:r()(_.z,p.ok,s.F9z)})),a.createElement("div",{className:r()(o.wrapper,m.nzo,m.Web,m.FJc,m.fDc)}))),G=Array.from({length:O},()=>R),K={showMore:__("collapsible_container.view_all"),showLess:__("collapsible_container.view_less")},j=e=>{const t=(e||[]).map((t,n)=>{const l=n===e.length-1,i=!T||T&&!l;return a.createElement("li",{key:n,className:i?r()(c.Ae,c.FQ,s.sS9):void 0},t)});return a.createElement("div",null,a.createElement("ul",null,t))},P=e=>T?a.createElement(v.A,{className:S,collapsedHeight:100,labels:K,onChange:C,gradientStyle:{zIndex:4},buttonStyle:{zIndex:4},collapsed:!0},e):e,W=j(G),Z=j(z),J=T?null:P(W),M=P(Z);return a.createElement(i.ViewTracker,{onVisible:()=>{const e=t.some(e=>{var t,n,a;return!!(null==(a=e.family)||null==(n=a.ratingAndReviews)||null==(t=n.rating)?void 0:t.totalCount)});((e,t,n,a)=>{const l={name:w.wc,context:{customActionSuffix:I,customLabel:k}},r={name:"view_content",context:{content_id:t,...a&&{event_trigger_name:"ratings_and_reviews"}}};e.track(l,n),e.trackStandalone(r,n)})(F,V,D,e)}},a.createElement(a.Fragment,null,a.createElement("div",{className:r()(m.Vg8,h.uvl)},a.createElement("div",{className:m.nME},a.createElement("div",{className:r()(m.nzo,d.S8,m.RsI,m.KzS,L&&d.lX)},a.createElement(E.A,{src:n,alt:__("order.product.image")})),a.createElement("div",{className:r()(m.nzo,m.nm3,m.FJc,m.fkp)},a.createElement(g.Ay,{tag:"h2",preset:b.nx.h3},y,a.createElement("br",null),a.createElement(g.Ay,{tag:"span",preset:b.nx.h3,font:b.KQ.serif},x))))),a.createElement("style",null,A.collapsible),a.createElement("div",{className:d.OL},a.createElement("div",{className:f.Gm},J),a.createElement("div",{className:r()(f.Gm,s.GUV,N.p7),style:{paddingLeft:"-100%"}},M))))})},65453:(e,t,n)=>{"use strict";n.d(t,{D7:()=>l,IO:()=>r,jP:()=>i,rT:()=>c,zr:()=>a});var a="JT3_zV ZkIJC- i8_8W0",l="_0j018w KVKCn3 mo6ZnF rQ5pcU",r="_0l5a7Z",i="kz8yGd KVKCn3 jDGwVr mo6ZnF Md_Vex NN8L-8 HlZ_Tf _0xLoFW uEg2FS FCIprz SmOhEI x7LsVH mo6ZnF AcNrW- rQ5pcU zXJU72",c="kz8yGd KVKCn3 jDGwVr mo6ZnF Md_Vex NN8L-8 HlZ_Tf _0xLoFW uEg2FS FCIprz SmOhEI x7LsVH mo6ZnF AcNrW- rQ5pcU _8sTSoF"},76738:e=>{e.exports={id:"043725e1a407dea44bb1755835973c9e0354d13dc61c8bf3f10bf8da231b4875"}},85959:e=>{"use strict";e.exports=n}},e=>{var t=t=>e(e.s=t);return e.O(0,[29674],()=>(t(42654),t(50905))),e.O()}]));
//# sourceMappingURL=https://zalando.de/dev/source-maps/product_coordinated-set/index-3596a1117d99bd05a1e9.js.map